[2018-07-11 11:57:23,593 INFO] Start training...
[2018-07-11 11:57:23,593 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=4, every_n_epoch_save=4, input_embeddings_trainable=True, log_file='log', lr=1.0, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, vector_type='glove.6B.100d')
[2018-07-11 11:57:36,856 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-11 11:58:35,398 INFO] | epoch   1 | train_loss  5.36 | val_ppl   162.03 | time  53.9s
[2018-07-11 11:59:29,589 INFO] | epoch   2 | train_loss  4.91 | val_ppl   141.38 | time  54.2s
[2018-07-11 12:00:23,862 INFO] | epoch   3 | train_loss  4.76 | val_ppl   135.60 | time  54.3s
[2018-07-11 12:01:17,954 INFO] | epoch   4 | train_loss  4.67 | val_ppl   132.10 | time  54.1s
[2018-07-11 12:01:17,954 INFO] start to save model on nnlm.model
[2018-07-11 12:01:20,663 INFO] test_ppl: 121.5
[2018-07-11 12:01:52,326 INFO] Start training...
[2018-07-11 12:01:52,326 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=4, every_n_epoch_save=4, input_embeddings_trainable=True, log_file='log', lr=1.0, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, vector_type='glove.6B.100d')
[2018-07-11 12:02:04,668 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-11 12:03:03,107 INFO] | epoch   1 | train_loss  5.36 | val_ppl   162.03 | time  54.1s
[2018-07-11 12:03:57,274 INFO] | epoch   2 | train_loss  4.91 | val_ppl   141.38 | time  54.2s
[2018-07-11 12:04:51,551 INFO] | epoch   3 | train_loss  4.76 | val_ppl   135.60 | time  54.3s
[2018-07-11 12:05:45,834 INFO] | epoch   4 | train_loss  4.67 | val_ppl   132.10 | time  54.3s
[2018-07-11 12:05:45,835 INFO] start to save model on nnlm.model
[2018-07-11 12:05:48,531 INFO] test_ppl: 121.5
[2018-07-11 12:13:51,900 INFO] Start training...
[2018-07-11 12:13:51,901 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=4, every_n_epoch_save=4, input_embeddings_trainable=True, log_file='log', lr=1.0, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=True, vector_type='glove.6B.100d')
[2018-07-11 12:14:03,920 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-11 12:14:30,772 INFO] Start training...
[2018-07-11 12:14:30,773 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=4, every_n_epoch_save=4, input_embeddings_trainable=True, log_file='log', lr=1.0, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=True, vector_type='glove.6B.100d')
[2018-07-11 12:14:44,150 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-11 12:15:15,018 INFO] Start training...
[2018-07-11 12:15:15,018 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=4, every_n_epoch_save=4, input_embeddings_trainable=True, log_file='log', lr=1.0, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=True, vector_type='glove.6B.100d')
[2018-07-11 12:15:28,133 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-11 12:16:25,528 INFO] | epoch   1 | train_loss  5.97 | val_ppl   227.08 | time  52.2s
[2018-07-11 12:17:17,273 INFO] | epoch   2 | train_loss  5.30 | val_ppl   198.76 | time  51.7s
[2018-07-11 12:18:08,877 INFO] | epoch   3 | train_loss  5.18 | val_ppl   185.42 | time  51.6s
[2018-07-11 12:19:00,652 INFO] | epoch   4 | train_loss  5.10 | val_ppl   175.43 | time  51.8s
[2018-07-11 12:19:00,652 INFO] start to save model on nnlm.model
[2018-07-11 12:19:03,120 INFO] test_ppl: 161.4
[2018-07-28 22:55:08,800 INFO] Start training...
[2018-07-28 22:55:08,800 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=4, input_embeddings_trainable=1, log_file='log', lr=0.5, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-07-28 22:55:24,865 INFO] train token: 2127402
[2018-07-28 22:55:24,866 INFO] test token: 250140
[2018-07-28 22:55:24,866 INFO] valid token: 221606
[2018-07-28 22:55:25,372 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-28 22:56:28,014 INFO] | epoch   1 | train_loss  5.48 | val_ppl   174.45 | time  58.2s
[2018-07-28 22:57:26,507 INFO] | epoch   2 | train_loss  5.03 | val_ppl   148.51 | time  58.5s
[2018-07-28 22:58:25,131 INFO] | epoch   3 | train_loss  4.89 | val_ppl   137.81 | time  58.6s
[2018-07-28 22:59:23,791 INFO] | epoch   4 | train_loss  4.80 | val_ppl   132.02 | time  58.7s
[2018-07-28 22:59:23,791 INFO] start to save model on nnlm.model
[2018-07-28 23:00:23,383 INFO] | epoch   5 | train_loss  4.73 | val_ppl   128.47 | time  58.9s
[2018-07-28 23:01:22,137 INFO] | epoch   6 | train_loss  4.68 | val_ppl   126.19 | time  58.8s
[2018-07-28 23:02:20,923 INFO] | epoch   7 | train_loss  4.63 | val_ppl   124.58 | time  58.8s
[2018-07-28 23:03:19,775 INFO] | epoch   8 | train_loss  4.59 | val_ppl   123.33 | time  58.9s
[2018-07-28 23:03:19,775 INFO] start to save model on nnlm.model
[2018-07-28 23:05:54,299 INFO] test_ppl: 113.9

(explanation: during testing, I changed the trained emb both input and output to the raw
pre-trained word emb. And get 2554 ppl on test data)
[2018-07-31 14:09:14,392 INFO] Start training...
[2018-07-31 14:09:14,392 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, input_embeddings_trainable=1, log_file='log', lr=0.5, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-07-31 14:09:25,980 INFO] train token: 2127402
[2018-07-31 14:09:25,980 INFO] test token: 250140
[2018-07-31 14:09:25,980 INFO] valid token: 221606
[2018-07-31 14:09:26,425 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 14:10:37,426 INFO] | epoch   1 | train_loss  5.62 | val_ppl   202.87 | time  67.0s
[2018-07-31 14:11:45,479 INFO] | epoch   2 | train_loss  5.26 | val_ppl   182.92 | time  68.1s
[2018-07-31 14:12:53,601 INFO] | epoch   3 | train_loss  5.17 | val_ppl   173.45 | time  68.1s
[2018-07-31 14:14:02,259 INFO] | epoch   4 | train_loss  5.11 | val_ppl   167.48 | time  68.7s
[2018-07-31 14:15:10,687 INFO] | epoch   5 | train_loss  5.07 | val_ppl   163.20 | time  68.4s
[2018-07-31 14:16:19,743 INFO] | epoch   6 | train_loss  5.03 | val_ppl   159.85 | time  69.1s
[2018-07-31 14:17:27,937 INFO] | epoch   7 | train_loss  5.00 | val_ppl   157.40 | time  68.2s
[2018-07-31 14:18:36,343 INFO] | epoch   8 | train_loss  4.97 | val_ppl   155.19 | time  68.4s
[2018-07-31 14:18:38,957 INFO] test_ppl: 2554.4

(explanation: during testing, I only changed the output train emb to the input and raw pre-trained)
[2018-07-31 14:30:17,872 INFO] Start training...
[2018-07-31 14:30:17,872 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, input_embeddings_trainable=1, log_file='log', lr=0.5, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-07-31 14:30:29,691 INFO] train token: 2127402
[2018-07-31 14:30:29,692 INFO] test token: 250140
[2018-07-31 14:30:29,692 INFO] valid token: 221606
[2018-07-31 14:30:30,120 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 14:31:41,477 INFO] | epoch   1 | train_loss  5.62 | val_ppl   202.87 | time  67.3s
[2018-07-31 14:32:49,501 INFO] | epoch   2 | train_loss  5.26 | val_ppl   182.92 | time  68.0s
[2018-07-31 14:33:57,168 INFO] | epoch   3 | train_loss  5.17 | val_ppl   173.45 | time  67.7s
[2018-07-31 14:35:05,325 INFO] | epoch   4 | train_loss  5.11 | val_ppl   167.48 | time  68.2s
[2018-07-31 14:36:13,854 INFO] | epoch   5 | train_loss  5.07 | val_ppl   163.20 | time  68.5s
[2018-07-31 14:37:22,128 INFO] | epoch   6 | train_loss  5.03 | val_ppl   159.85 | time  68.3s
[2018-07-31 14:38:30,394 INFO] | epoch   7 | train_loss  5.00 | val_ppl   157.40 | time  68.3s
[2018-07-31 14:39:38,630 INFO] | epoch   8 | train_loss  4.97 | val_ppl   155.19 | time  68.2s
[2018-07-31 14:39:41,242 INFO] out emb from pre-trained emb, test_ppl: 1557.8
[2018-07-31 14:39:43,849 INFO] out emb from input trained emb, test_ppl: 1864.3

(explanation: both input and output emb are randomly inited. but latter poor similarity on input
emb is observed, but good performance on output emb)
[2018-07-31 14:54:30,371 INFO] Start training...
[2018-07-31 14:54:30,371 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, input_embeddings_trainable=1, log_file='log', lr=0.5, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-07-31 14:54:42,263 INFO] train token: 2127402
[2018-07-31 14:54:42,263 INFO] test token: 250140
[2018-07-31 14:54:42,263 INFO] valid token: 221606
[2018-07-31 14:54:42,697 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 14:55:53,816 INFO] | epoch   1 | train_loss  5.73 | val_ppl   217.15 | time  67.2s
[2018-07-31 14:57:01,955 INFO] | epoch   2 | train_loss  5.30 | val_ppl   191.46 | time  68.1s
[2018-07-31 14:58:09,843 INFO] | epoch   3 | train_loss  5.16 | val_ppl   179.09 | time  67.9s
[2018-07-31 14:59:18,046 INFO] | epoch   4 | train_loss  5.07 | val_ppl   172.12 | time  68.2s
[2018-07-31 15:00:26,312 INFO] | epoch   5 | train_loss  5.01 | val_ppl   167.67 | time  68.3s
[2018-07-31 15:01:34,973 INFO] | epoch   6 | train_loss  4.95 | val_ppl   164.24 | time  68.7s
[2018-07-31 15:02:43,250 INFO] | epoch   7 | train_loss  4.91 | val_ppl   161.55 | time  68.3s
[2018-07-31 15:03:51,422 INFO] | epoch   8 | train_loss  4.87 | val_ppl   159.90 | time  68.2s
[2018-07-31 15:03:54,032 INFO] test_ppl: 146.8
[2018-07-31 15:28:57,698 INFO] Start training...

(explanation: change random seed to observe above xianxiang)
[2018-07-31 15:28:57,698 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, input_embeddings_trainable=1, log_file='log', lr=0.5, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=2, tied=False, vector_type='glove.6B.100d')
[2018-07-31 15:29:09,650 INFO] train token: 2127402
[2018-07-31 15:29:09,650 INFO] test token: 250140
[2018-07-31 15:29:09,650 INFO] valid token: 221606
[2018-07-31 15:29:10,092 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 15:30:21,567 INFO] | epoch   1 | train_loss  5.72 | val_ppl   211.07 | time  67.5s
[2018-07-31 15:31:29,211 INFO] | epoch   2 | train_loss  5.30 | val_ppl   188.27 | time  67.6s
[2018-07-31 15:32:37,209 INFO] | epoch   3 | train_loss  5.16 | val_ppl   177.49 | time  68.0s
[2018-07-31 15:33:44,926 INFO] | epoch   4 | train_loss  5.07 | val_ppl   171.14 | time  67.7s
[2018-07-31 15:34:53,238 INFO] | epoch   5 | train_loss  5.01 | val_ppl   166.88 | time  68.3s
[2018-07-31 15:36:01,612 INFO] | epoch   6 | train_loss  4.96 | val_ppl   163.86 | time  68.4s
[2018-07-31 15:37:09,962 INFO] | epoch   7 | train_loss  4.91 | val_ppl   161.72 | time  68.4s
[2018-07-31 15:38:18,200 INFO] | epoch   8 | train_loss  4.87 | val_ppl   160.12 | time  68.2s
[2018-07-31 15:38:20,809 INFO] test_ppl: 147.1

(explanation: tied, randomly inited)
[2018-07-31 16:04:23,671 INFO] Start training...
[2018-07-31 16:04:23,672 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, input_embeddings_trainable=1, log_file='log', lr=0.5, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=True, vector_type='glove.6B.100d')
[2018-07-31 16:04:35,709 INFO] train token: 2127402
[2018-07-31 16:04:35,709 INFO] test token: 250140
[2018-07-31 16:04:35,710 INFO] valid token: 221606
[2018-07-31 16:04:36,135 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 16:05:44,870 INFO] | epoch   1 | train_loss  6.71 | val_ppl   513.26 | time  64.8s
[2018-07-31 16:06:49,821 INFO] | epoch   2 | train_loss  6.21 | val_ppl   405.96 | time  65.0s
[2018-07-31 16:07:55,041 INFO] | epoch   3 | train_loss  6.04 | val_ppl   357.50 | time  65.2s
[2018-07-31 16:08:59,693 INFO] | epoch   4 | train_loss  5.93 | val_ppl   328.33 | time  64.7s
[2018-07-31 16:10:05,344 INFO] | epoch   5 | train_loss  5.85 | val_ppl   308.08 | time  65.7s
[2018-07-31 16:11:10,503 INFO] | epoch   6 | train_loss  5.79 | val_ppl   292.92 | time  65.2s
[2018-07-31 16:12:16,001 INFO] | epoch   7 | train_loss  5.74 | val_ppl   281.16 | time  65.5s
[2018-07-31 16:13:21,448 INFO] | epoch   8 | train_loss  5.70 | val_ppl   271.68 | time  65.4s
[2018-07-31 16:13:24,054 INFO] test_ppl: 250.3


(explanation: input will be updated. output is fixed using pre-trained emb)
[2018-07-31 19:49:39,046 INFO] Start training...
[2018-07-31 19:49:39,046 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, input_embeddings_trainable=1, log_file='log', lr=0.5, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-07-31 19:49:50,588 INFO] train token: 2127402
[2018-07-31 19:49:50,589 INFO] test token: 250140
[2018-07-31 19:49:50,589 INFO] valid token: 221606
[2018-07-31 19:49:51,008 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 19:51:03,078 INFO] | epoch   1 | train_loss  5.62 | val_ppl   202.87 | time  68.1s
[2018-07-31 19:52:11,188 INFO] | epoch   2 | train_loss  5.26 | val_ppl   182.92 | time  68.1s
[2018-07-31 19:53:19,355 INFO] | epoch   3 | train_loss  5.17 | val_ppl   173.45 | time  68.2s
[2018-07-31 19:54:28,062 INFO] | epoch   4 | train_loss  5.11 | val_ppl   167.48 | time  68.7s
[2018-07-31 19:55:36,061 INFO] | epoch   5 | train_loss  5.07 | val_ppl   163.20 | time  68.0s
[2018-07-31 19:56:45,114 INFO] | epoch   6 | train_loss  5.03 | val_ppl   159.85 | time  69.1s
[2018-07-31 19:57:53,615 INFO] | epoch   7 | train_loss  5.00 | val_ppl   157.40 | time  68.5s
[2018-07-31 19:59:01,928 INFO] | epoch   8 | train_loss  4.97 | val_ppl   155.19 | time  68.3s
[2018-07-31 19:59:04,521 INFO] test_ppl: 143.7

(explanation: I disabled both input and output embeddings from pre-trained. it still works)
[2018-07-31 21:58:56,589 INFO] Start training...
[2018-07-31 21:58:56,589 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=True, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-07-31 21:59:08,303 INFO] train token: 2127402
[2018-07-31 21:59:08,303 INFO] test token: 250140
[2018-07-31 21:59:08,303 INFO] valid token: 221606
[2018-07-31 21:59:08,747 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 22:00:20,066 INFO] | epoch   1 | train_loss  5.62 | val_ppl   202.87 | time  67.3s
[2018-07-31 22:01:27,876 INFO] | epoch   2 | train_loss  5.26 | val_ppl   182.92 | time  67.8s
[2018-07-31 22:02:36,551 INFO] | epoch   3 | train_loss  5.17 | val_ppl   173.45 | time  68.7s
[2018-07-31 22:03:45,416 INFO] | epoch   4 | train_loss  5.11 | val_ppl   167.48 | time  68.9s
[2018-07-31 22:04:53,778 INFO] | epoch   5 | train_loss  5.07 | val_ppl   163.20 | time  68.4s
[2018-07-31 22:06:02,175 INFO] | epoch   6 | train_loss  5.03 | val_ppl   159.85 | time  68.4s
[2018-07-31 22:07:10,262 INFO] | epoch   7 | train_loss  5.00 | val_ppl   157.40 | time  68.1s
[2018-07-31 22:08:18,607 INFO] | epoch   8 | train_loss  4.97 | val_ppl   155.19 | time  68.3s
[2018-07-31 22:08:21,205 INFO] test_ppl: 143.7

(explanation: I disabled output update, enable input, but result is same. strange mark here)
[2018-07-31 22:16:48,673 INFO] Start training...
[2018-07-31 22:16:48,673 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-07-31 22:17:00,997 INFO] train token: 2127402
[2018-07-31 22:17:00,997 INFO] test token: 250140
[2018-07-31 22:17:00,997 INFO] valid token: 221606
[2018-07-31 22:17:01,473 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-07-31 22:17:05,825 INFO] embeddings input emb requries_grad:True
[2018-07-31 22:18:12,708 INFO] | epoch   1 | train_loss  5.62 | val_ppl   202.87 | time  66.9s
[2018-07-31 22:19:20,513 INFO] | epoch   2 | train_loss  5.26 | val_ppl   182.92 | time  67.8s
[2018-07-31 22:20:28,542 INFO] | epoch   3 | train_loss  5.17 | val_ppl   173.45 | time  68.0s
[2018-07-31 22:21:36,978 INFO] | epoch   4 | train_loss  5.11 | val_ppl   167.48 | time  68.4s
[2018-07-31 22:22:44,891 INFO] | epoch   5 | train_loss  5.07 | val_ppl   163.20 | time  67.9s
[2018-07-31 22:23:53,138 INFO] | epoch   6 | train_loss  5.03 | val_ppl   159.85 | time  68.2s
[2018-07-31 22:25:01,365 INFO] | epoch   7 | train_loss  5.00 | val_ppl   157.40 | time  68.2s
[2018-07-31 22:26:10,235 INFO] | epoch   8 | train_loss  4.97 | val_ppl   155.19 | time  68.9s
[2018-07-31 22:26:12,711 INFO] test_ppl: 143.7
[2018-08-03 16:20:08,523 INFO] Start training...

(explanation: using trained cbow on same training data. the output emb is fixed, input is updating.
al most obtain the best result)
[2018-08-03 16:20:08,523 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:1', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-03 16:20:19,495 INFO] train token: 2127402
[2018-08-03 16:20:19,495 INFO] test token: 250140
[2018-08-03 16:20:19,495 INFO] valid token: 221606
[2018-08-03 16:20:19,683 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt
[2018-08-03 16:20:19,687 WARNING] Skipping token 23380 with 1-dimensional vector ['100']; likely a header
[2018-08-03 16:20:20,509 INFO] Saving vectors to /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-03 16:20:28,049 INFO] embeddings input emb requries_grad:True
[2018-08-03 16:20:52,152 INFO] | epoch   1 | train_loss  5.28 | val_ppl   164.29 | time  24.1s
[2018-08-03 16:21:16,072 INFO] | epoch   2 | train_loss  4.96 | val_ppl   145.30 | time  23.9s
[2018-08-03 16:21:40,427 INFO] | epoch   3 | train_loss  4.84 | val_ppl   136.03 | time  24.4s
[2018-08-03 16:22:04,642 INFO] | epoch   4 | train_loss  4.75 | val_ppl   130.40 | time  24.2s
[2018-08-03 16:22:28,586 INFO] | epoch   5 | train_loss  4.68 | val_ppl   126.64 | time  23.9s
[2018-08-03 16:22:53,095 INFO] | epoch   6 | train_loss  4.62 | val_ppl   124.04 | time  24.5s
[2018-08-03 16:23:17,185 INFO] | epoch   7 | train_loss  4.58 | val_ppl   122.21 | time  24.1s
[2018-08-03 16:23:41,889 INFO] | epoch   8 | train_loss  4.53 | val_ppl   120.94 | time  24.7s
[2018-08-03 16:23:42,887 INFO] test_ppl: 116.5
[2018-08-04 16:38:43,055 INFO] -------------
explanation: val_ppl and test_ppl are -consine. wiki2 trained cbow to fix out emb and update in emb
[2018-08-04 16:38:43,056 INFO] Start training...
[2018-08-04 16:38:43,056 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-04 16:38:54,264 INFO] train token: 2127402
[2018-08-04 16:38:54,264 INFO] test token: 250140
[2018-08-04 16:38:54,265 INFO] valid token: 221606
[2018-08-04 16:38:54,482 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-04 16:39:22,428 INFO] | epoch   1 | train_loss  5.28 | val_ppl    -0.21 | time  23.7s
[2018-08-04 16:39:45,128 INFO] | epoch   2 | train_loss  4.96 | val_ppl    -0.22 | time  22.7s
[2018-08-04 16:40:08,614 INFO] | epoch   3 | train_loss  4.84 | val_ppl    -0.23 | time  23.5s
[2018-08-04 16:40:32,137 INFO] | epoch   4 | train_loss  4.75 | val_ppl    -0.23 | time  23.5s
[2018-08-04 16:40:55,733 INFO] | epoch   5 | train_loss  4.68 | val_ppl    -0.23 | time  23.6s
[2018-08-04 16:41:19,158 INFO] | epoch   6 | train_loss  4.62 | val_ppl    -0.23 | time  23.4s
[2018-08-04 16:41:42,629 INFO] | epoch   7 | train_loss  4.58 | val_ppl    -0.24 | time  23.5s
[2018-08-04 16:42:05,937 INFO] | epoch   8 | train_loss  4.53 | val_ppl    -0.24 | time  23.3s
[2018-08-04 16:42:06,589 INFO] test_ppl:  -0.2
[2018-08-04 16:49:32,227 INFO] -------------
(explanation: the same as above one. I changed the float point of cosine)
[2018-08-04 16:49:32,227 INFO] Start training...
[2018-08-04 16:49:32,227 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-04 16:49:43,473 INFO] train token: 2127402
[2018-08-04 16:49:43,473 INFO] test token: 250140
[2018-08-04 16:49:43,474 INFO] valid token: 221606
[2018-08-04 16:49:43,619 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-04 16:50:10,367 INFO] | epoch   1 | train_loss  5.28 | val_ppl -0.21334 | time  23.3s
[2018-08-04 16:50:33,777 INFO] | epoch   2 | train_loss  4.96 | val_ppl -0.22230 | time  23.4s
[2018-08-04 16:50:56,918 INFO] | epoch   3 | train_loss  4.84 | val_ppl -0.22630 | time  23.1s
[2018-08-04 16:51:20,258 INFO] | epoch   4 | train_loss  4.75 | val_ppl -0.22975 | time  23.3s
[2018-08-04 16:51:43,789 INFO] | epoch   5 | train_loss  4.68 | val_ppl -0.23230 | time  23.5s
[2018-08-04 16:52:07,929 INFO] | epoch   6 | train_loss  4.62 | val_ppl -0.23413 | time  24.1s
[2018-08-04 16:52:31,161 INFO] | epoch   7 | train_loss  4.58 | val_ppl -0.23547 | time  23.2s
[2018-08-04 16:52:54,546 INFO] | epoch   8 | train_loss  4.53 | val_ppl -0.23652 | time  23.4s
[2018-08-04 16:52:55,215 INFO] test_ppl: -0.23469


(explanation: full-softmax norm hidden output and pretrained norm out emb from the start, all is same as before
the result shows it performs a slightly bad than non-norm one. But note fixing out emb, still works)
[2018-08-11 10:11:52,834 INFO] -------------
[2018-08-11 10:11:52,834 INFO] Start training...
[2018-08-11 10:11:52,834 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 10:12:03,779 INFO] train token: 2127402
[2018-08-11 10:12:03,779 INFO] test token: 250140
[2018-08-11 10:12:03,779 INFO] valid token: 221606
[2018-08-11 10:12:03,918 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 10:12:31,943 INFO] | epoch   1 | train_loss  5.69 | val_ppl 212.15373 | time  24.6s
[2018-08-11 10:12:56,157 INFO] | epoch   2 | train_loss  5.32 | val_ppl 180.26816 | time  24.2s
[2018-08-11 10:13:21,018 INFO] | epoch   3 | train_loss  5.18 | val_ppl 164.25467 | time  24.9s
[2018-08-11 10:13:45,154 INFO] | epoch   4 | train_loss  5.10 | val_ppl 154.49554 | time  24.1s
[2018-08-11 10:14:09,838 INFO] | epoch   5 | train_loss  5.03 | val_ppl 147.72783 | time  24.7s
[2018-08-11 10:14:35,549 INFO] | epoch   6 | train_loss  4.98 | val_ppl 142.51899 | time  25.7s
[2018-08-11 10:15:00,965 INFO] | epoch   7 | train_loss  4.94 | val_ppl 138.56315 | time  25.4s
[2018-08-11 10:15:25,451 INFO] | epoch   8 | train_loss  4.91 | val_ppl 135.48768 | time  24.5s
[2018-08-11 10:15:26,474 INFO] test_ppl: 131.53229


(explanation: randomly out emb, updating. this is the PPL result)
[2018-08-11 10:40:34,481 INFO] -------------
[2018-08-11 10:40:34,481 INFO] Start training...
[2018-08-11 10:40:34,481 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 10:40:45,832 INFO] train token: 2127402
[2018-08-11 10:40:45,832 INFO] test token: 250140
[2018-08-11 10:40:45,832 INFO] valid token: 221606
[2018-08-11 10:40:45,972 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 10:41:13,416 INFO] | epoch   1 | train_loss  5.21 | val_ppl 154.21461 | time  23.9s
[2018-08-11 10:41:37,165 INFO] | epoch   2 | train_loss  4.85 | val_ppl 134.51386 | time  23.7s
[2018-08-11 10:42:01,007 INFO] | epoch   3 | train_loss  4.73 | val_ppl 124.98321 | time  23.8s
[2018-08-11 10:42:25,112 INFO] | epoch   4 | train_loss  4.64 | val_ppl 119.01536 | time  24.1s
[2018-08-11 10:42:48,558 INFO] | epoch   5 | train_loss  4.58 | val_ppl 115.04513 | time  23.4s
[2018-08-11 10:43:12,139 INFO] | epoch   6 | train_loss  4.53 | val_ppl 112.35071 | time  23.6s
[2018-08-11 10:43:35,855 INFO] | epoch   7 | train_loss  4.49 | val_ppl 110.55550 | time  23.7s
[2018-08-11 10:43:59,139 INFO] | epoch   8 | train_loss  4.45 | val_ppl 109.30011 | time  23.3s
[2018-08-11 10:44:00,116 INFO] test_ppl: 105.30712


(explanation: randomly out emb, fixed, the totally same result!. any bug? how it could be!)
[2018-08-11 10:52:13,115 INFO] -------------
[2018-08-11 10:52:13,115 INFO] Start training...
[2018-08-11 10:52:13,116 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 10:52:24,324 INFO] train token: 2127402
[2018-08-11 10:52:24,324 INFO] test token: 250140
[2018-08-11 10:52:24,324 INFO] valid token: 221606
[2018-08-11 10:52:24,464 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 10:52:51,258 INFO] | epoch   1 | train_loss  5.21 | val_ppl 154.21461 | time  23.8s
[2018-08-11 10:53:14,410 INFO] | epoch   2 | train_loss  4.85 | val_ppl 134.51386 | time  23.2s
[2018-08-11 10:53:37,993 INFO] | epoch   3 | train_loss  4.73 | val_ppl 124.98321 | time  23.6s
[2018-08-11 10:54:01,673 INFO] | epoch   4 | train_loss  4.64 | val_ppl 119.01536 | time  23.7s
[2018-08-11 10:54:25,475 INFO] | epoch   5 | train_loss  4.58 | val_ppl 115.04513 | time  23.8s
[2018-08-11 10:54:48,660 INFO] | epoch   6 | train_loss  4.53 | val_ppl 112.35071 | time  23.2s
[2018-08-11 10:55:12,417 INFO] | epoch   7 | train_loss  4.49 | val_ppl 110.55550 | time  23.8s
[2018-08-11 10:55:35,869 INFO] | epoch   8 | train_loss  4.45 | val_ppl 109.30011 | time  23.5s
[2018-08-11 10:55:36,836 INFO] test_ppl: 105.30712


----------------
-  Split line  -
----------------

After I found the reason of a bug in my program. The above result have to be ignored for
non-updating setting.
------------------------------------------
-----------------------------------------


(explanation: standard. pretrained out in, updating both)
[2018-08-11 11:42:02,033 INFO] -------------
[2018-08-11 11:42:02,033 INFO] Start training...
[2018-08-11 11:42:02,033 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 11:42:13,059 INFO] train token: 2127402
[2018-08-11 11:42:13,060 INFO] test token: 250140
[2018-08-11 11:42:13,060 INFO] valid token: 221606
[2018-08-11 11:42:13,294 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 11:42:40,425 INFO] | epoch   1 | train_loss  5.28 | val_ppl 164.29145 | time  23.7s
[2018-08-11 11:43:03,660 INFO] | epoch   2 | train_loss  4.96 | val_ppl 145.29785 | time  23.2s
[2018-08-11 11:43:28,005 INFO] | epoch   3 | train_loss  4.84 | val_ppl 136.03464 | time  24.3s
[2018-08-11 11:43:51,476 INFO] | epoch   4 | train_loss  4.75 | val_ppl 130.40298 | time  23.5s
[2018-08-11 11:44:15,149 INFO] | epoch   5 | train_loss  4.68 | val_ppl 126.63874 | time  23.7s
[2018-08-11 11:44:38,460 INFO] | epoch   6 | train_loss  4.62 | val_ppl 124.03754 | time  23.3s
[2018-08-11 11:45:01,810 INFO] | epoch   7 | train_loss  4.58 | val_ppl 122.20709 | time  23.3s
[2018-08-11 11:45:25,251 INFO] | epoch   8 | train_loss  4.53 | val_ppl 120.94260 | time  23.4s
[2018-08-11 11:45:26,214 INFO] test_ppl: 116.48836
[2018-08-11 11:47:09,263 INFO] -------------
[2018-08-11 11:47:09,263 INFO] Start training...
[2018-08-11 11:47:09,263 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 11:47:20,770 INFO] train token: 2127402
[2018-08-11 11:47:20,771 INFO] test token: 250140
[2018-08-11 11:47:20,771 INFO] valid token: 221606
[2018-08-11 11:47:20,914 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt

(explanation: no bias term in softmax output)
[2018-08-11 11:53:32,440 INFO] -------------
[2018-08-11 11:53:32,440 INFO] Start training...
[2018-08-11 11:53:32,440 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 11:53:43,587 INFO] train token: 2127402
[2018-08-11 11:53:43,587 INFO] test token: 250140
[2018-08-11 11:53:43,587 INFO] valid token: 221606
[2018-08-11 11:53:43,730 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 11:54:09,951 INFO] | epoch   1 | train_loss  5.27 | val_ppl 167.26648 | time  22.9s
[2018-08-11 11:54:32,207 INFO] | epoch   2 | train_loss  4.96 | val_ppl 146.64552 | time  22.3s
[2018-08-11 11:54:54,706 INFO] | epoch   3 | train_loss  4.84 | val_ppl 137.08501 | time  22.5s
[2018-08-11 11:55:17,098 INFO] | epoch   4 | train_loss  4.75 | val_ppl 131.19981 | time  22.4s
[2018-08-11 11:55:39,398 INFO] | epoch   5 | train_loss  4.68 | val_ppl 127.14218 | time  22.3s
[2018-08-11 11:56:02,100 INFO] | epoch   6 | train_loss  4.63 | val_ppl 124.31848 | time  22.7s
[2018-08-11 11:56:24,560 INFO] | epoch   7 | train_loss  4.58 | val_ppl 122.25929 | time  22.5s
[2018-08-11 11:56:46,903 INFO] | epoch   8 | train_loss  4.53 | val_ppl 120.73668 | time  22.3s
[2018-08-11 11:56:47,783 INFO] test_ppl: 116.25565
[2018-08-11 11:58:12,622 INFO] -------------

explanation: this not updating pretrained emb
[2018-08-11 11:58:12,622 INFO] Start training...
[2018-08-11 11:58:12,622 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 11:58:23,951 INFO] train token: 2127402
[2018-08-11 11:58:23,951 INFO] test token: 250140
[2018-08-11 11:58:23,951 INFO] valid token: 221606
[2018-08-11 11:58:24,093 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 11:58:47,852 INFO] | epoch   1 | train_loss  5.69 | val_ppl 252.04634 | time  20.5s
[2018-08-11 11:59:07,940 INFO] | epoch   2 | train_loss  5.42 | val_ppl 230.61994 | time  20.1s
[2018-08-11 11:59:28,003 INFO] | epoch   3 | train_loss  5.33 | val_ppl 221.23442 | time  20.1s
[2018-08-11 11:59:48,386 INFO] | epoch   4 | train_loss  5.27 | val_ppl 215.90383 | time  20.4s
[2018-08-11 12:00:08,196 INFO] | epoch   5 | train_loss  5.23 | val_ppl 213.32098 | time  19.8s
[2018-08-11 12:00:28,499 INFO] | epoch   6 | train_loss  5.19 | val_ppl 211.77433 | time  20.3s
[2018-08-11 12:00:48,346 INFO] | epoch   7 | train_loss  5.16 | val_ppl 211.10733 | time  19.8s
[2018-08-11 12:01:08,003 INFO] | epoch   8 | train_loss  5.13 | val_ppl 210.85058 | time  19.7s
[2018-08-11 12:01:08,865 INFO] test_ppl: 202.07194
[2018-08-11 12:10:28,346 INFO] -------------

(explanation: following above setting ,updating bias)
[2018-08-11 12:10:28,346 INFO] Start training...
[2018-08-11 12:10:28,346 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 12:10:39,566 INFO] train token: 2127402
[2018-08-11 12:10:39,566 INFO] test token: 250140
[2018-08-11 12:10:39,566 INFO] valid token: 221606
[2018-08-11 12:10:39,710 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 12:11:04,395 INFO] | epoch   1 | train_loss  5.50 | val_ppl 205.60689 | time  21.4s
[2018-08-11 12:11:25,967 INFO] | epoch   2 | train_loss  5.23 | val_ppl 184.87383 | time  21.6s
[2018-08-11 12:11:47,460 INFO] | epoch   3 | train_loss  5.13 | val_ppl 176.79595 | time  21.5s
[2018-08-11 12:12:08,994 INFO] | epoch   4 | train_loss  5.07 | val_ppl 172.47004 | time  21.5s
[2018-08-11 12:12:30,035 INFO] | epoch   5 | train_loss  5.02 | val_ppl 169.36231 | time  21.0s
[2018-08-11 12:12:51,509 INFO] | epoch   6 | train_loss  4.98 | val_ppl 167.69087 | time  21.5s
[2018-08-11 12:13:12,369 INFO] | epoch   7 | train_loss  4.95 | val_ppl 166.89307 | time  20.9s
[2018-08-11 12:13:33,561 INFO] | epoch   8 | train_loss  4.92 | val_ppl 166.55194 | time  21.2s
[2018-08-11 12:13:34,523 INFO] test_ppl: 160.89592
[2018-08-11 12:23:11,616 INFO] -------------

(explanation: norm hidden, and norm fixed out emb)
[2018-08-11 12:23:11,616 INFO] Start training...
[2018-08-11 12:23:11,616 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 12:23:23,430 INFO] train token: 2127402
[2018-08-11 12:23:23,430 INFO] test token: 250140
[2018-08-11 12:23:23,431 INFO] valid token: 221606
[2018-08-11 12:23:23,664 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 12:23:48,735 INFO] | epoch   1 | train_loss  9.15 | val_ppl 9215.55642 | time  21.1s
[2018-08-11 12:24:09,707 INFO] | epoch   2 | train_loss  9.13 | val_ppl 9158.74265 | time  21.0s
[2018-08-11 12:24:30,987 INFO] | epoch   3 | train_loss  9.13 | val_ppl 9132.80471 | time  21.3s
[2018-08-11 12:24:51,834 INFO] | epoch   4 | train_loss  9.12 | val_ppl 9107.43428 | time  20.8s
[2018-08-11 12:25:13,540 INFO] | epoch   5 | train_loss  9.12 | val_ppl 9082.90436 | time  21.7s
[2018-08-11 12:25:34,020 INFO] | epoch   6 | train_loss  9.12 | val_ppl 9064.22266 | time  20.5s
[2018-08-11 12:25:54,297 INFO] | epoch   7 | train_loss  9.12 | val_ppl 9051.11456 | time  20.3s
[2018-08-11 12:26:15,181 INFO] | epoch   8 | train_loss  9.11 | val_ppl 9039.41527 | time  20.9s
[2018-08-11 12:26:16,114 INFO] test_ppl: 8990.28242

(same as above, updating normed emb. norm is only done at start)
[2018-08-11 12:27:20,148 INFO] -------------
[2018-08-11 12:27:20,148 INFO] Start training...
[2018-08-11 12:27:20,148 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 12:27:31,261 INFO] train token: 2127402
[2018-08-11 12:27:31,261 INFO] test token: 250140
[2018-08-11 12:27:31,261 INFO] valid token: 221606
[2018-08-11 12:27:31,405 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 12:27:57,805 INFO] | epoch   1 | train_loss  5.74 | val_ppl 220.63858 | time  23.0s
[2018-08-11 12:28:20,458 INFO] | epoch   2 | train_loss  5.36 | val_ppl 187.76345 | time  22.7s
[2018-08-11 12:28:43,665 INFO] | epoch   3 | train_loss  5.23 | val_ppl 171.58674 | time  23.2s
[2018-08-11 12:29:07,140 INFO] | epoch   4 | train_loss  5.15 | val_ppl 161.98186 | time  23.5s
[2018-08-11 12:29:30,515 INFO] | epoch   5 | train_loss  5.09 | val_ppl 155.08981 | time  23.4s
[2018-08-11 12:29:53,424 INFO] | epoch   6 | train_loss  5.04 | val_ppl 149.91193 | time  22.9s
[2018-08-11 12:30:16,597 INFO] | epoch   7 | train_loss  5.00 | val_ppl 145.86725 | time  23.2s
[2018-08-11 12:30:39,851 INFO] | epoch   8 | train_loss  4.97 | val_ppl 142.65083 | time  23.3s
[2018-08-11 12:30:40,802 INFO] test_ppl: 138.79193
[2018-08-11 13:00:50,147 INFO] -------------

(explanation: very standard. but norm pretrained out emb only at the start. note it's better than
non-norm)
[2018-08-11 13:00:50,148 INFO] Start training...
[2018-08-11 13:00:50,148 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 13:01:01,498 INFO] train token: 2127402
[2018-08-11 13:01:01,498 INFO] test token: 250140
[2018-08-11 13:01:01,498 INFO] valid token: 221606
[2018-08-11 13:01:01,641 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 13:01:27,496 INFO] | epoch   1 | train_loss  5.02 | val_ppl 134.90114 | time  22.5s
[2018-08-11 13:01:49,384 INFO] | epoch   2 | train_loss  4.75 | val_ppl 121.95061 | time  21.9s
[2018-08-11 13:02:11,900 INFO] | epoch   3 | train_loss  4.64 | val_ppl 116.06429 | time  22.5s
[2018-08-11 13:02:34,016 INFO] | epoch   4 | train_loss  4.57 | val_ppl 112.46828 | time  22.1s
[2018-08-11 13:02:56,513 INFO] | epoch   5 | train_loss  4.51 | val_ppl 110.15242 | time  22.5s
[2018-08-11 13:03:19,218 INFO] | epoch   6 | train_loss  4.47 | val_ppl 108.63990 | time  22.7s
[2018-08-11 13:03:41,388 INFO] | epoch   7 | train_loss  4.43 | val_ppl 107.69256 | time  22.2s
[2018-08-11 13:04:03,769 INFO] | epoch   8 | train_loss  4.39 | val_ppl 107.06490 | time  22.4s
[2018-08-11 13:04:04,630 INFO] test_ppl: 102.58162
[2018-08-11 13:12:22,848 INFO] -------------

(explanation: using the above pretrained out emb. convergence is faster but the final result keeps
same, the random seed is 0 at default)
[2018-08-11 13:12:22,848 INFO] Start training...
[2018-08-11 13:12:22,848 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 13:12:34,108 INFO] train token: 2127402
[2018-08-11 13:12:34,108 INFO] test token: 250140
[2018-08-11 13:12:34,108 INFO] valid token: 221606
[2018-08-11 13:12:34,251 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 13:13:00,180 INFO] | epoch   1 | train_loss  4.65 | val_ppl 115.26202 | time  22.0s
[2018-08-11 13:13:22,113 INFO] | epoch   2 | train_loss  4.50 | val_ppl 110.10633 | time  21.9s
[2018-08-11 13:13:44,565 INFO] | epoch   3 | train_loss  4.44 | val_ppl 107.72182 | time  22.5s
[2018-08-11 13:14:07,534 INFO] | epoch   4 | train_loss  4.39 | val_ppl 106.52273 | time  23.0s
[2018-08-11 13:14:29,769 INFO] | epoch   5 | train_loss  4.36 | val_ppl 105.91639 | time  22.2s
[2018-08-11 13:14:52,266 INFO] | epoch   6 | train_loss  4.33 | val_ppl 105.59615 | time  22.5s
[2018-08-11 13:15:14,607 INFO] | epoch   7 | train_loss  4.30 | val_ppl 105.50029 | time  22.3s
[2018-08-11 13:15:37,100 INFO] | epoch   8 | train_loss  4.27 | val_ppl 105.59313 | time  22.5s
[2018-08-11 13:15:38,098 INFO] test_ppl: 101.27162
[2018-08-11 13:17:06,753 INFO] -------------
[2018-08-11 13:17:06,753 INFO] Start training...

(explanation: using the above pretrained out emb. but keep fixed out emb. good result. preprae to
change the seed)
[2018-08-11 13:17:06,753 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=0, tied=False, vector_type='glove.6B.100d')
[2018-08-11 13:17:18,100 INFO] train token: 2127402
[2018-08-11 13:17:18,100 INFO] test token: 250140
[2018-08-11 13:17:18,100 INFO] valid token: 221606
[2018-08-11 13:17:18,242 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 13:17:42,749 INFO] | epoch   1 | train_loss  4.68 | val_ppl 112.72466 | time  20.4s
[2018-08-11 13:18:02,840 INFO] | epoch   2 | train_loss  4.53 | val_ppl 107.48921 | time  20.1s
[2018-08-11 13:18:23,101 INFO] | epoch   3 | train_loss  4.47 | val_ppl 105.31551 | time  20.3s
[2018-08-11 13:18:43,373 INFO] | epoch   4 | train_loss  4.44 | val_ppl 104.21897 | time  20.3s
[2018-08-11 13:19:03,549 INFO] | epoch   5 | train_loss  4.42 | val_ppl 103.66151 | time  20.2s
[2018-08-11 13:19:23,560 INFO] | epoch   6 | train_loss  4.40 | val_ppl 103.42313 | time  20.0s
[2018-08-11 13:19:44,342 INFO] | epoch   7 | train_loss  4.38 | val_ppl 103.29771 | time  20.8s
[2018-08-11 13:20:03,684 INFO] | epoch   8 | train_loss  4.37 | val_ppl 103.26707 | time  19.3s
[2018-08-11 13:20:04,560 INFO] test_ppl: 99.43876
[2018-08-11 13:21:46,779 INFO] -------------


(explanation: change seed. also keep fixed)
[2018-08-11 13:21:46,779 INFO] Start training...
[2018-08-11 13:21:46,780 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=10, tied=False, vector_type='glove.6B.100d')
[2018-08-11 13:21:57,939 INFO] train token: 2127402
[2018-08-11 13:21:57,939 INFO] test token: 250140
[2018-08-11 13:21:57,939 INFO] valid token: 221606
[2018-08-11 13:21:58,084 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 13:22:22,159 INFO] | epoch   1 | train_loss  4.69 | val_ppl 113.21638 | time  20.1s
[2018-08-11 13:22:42,222 INFO] | epoch   2 | train_loss  4.53 | val_ppl 107.68032 | time  20.1s
[2018-08-11 13:23:02,361 INFO] | epoch   3 | train_loss  4.48 | val_ppl 105.51221 | time  20.1s
[2018-08-11 13:23:22,120 INFO] | epoch   4 | train_loss  4.44 | val_ppl 104.41606 | time  19.8s
[2018-08-11 13:23:41,592 INFO] | epoch   5 | train_loss  4.42 | val_ppl 103.77690 | time  19.5s
[2018-08-11 13:24:01,753 INFO] | epoch   6 | train_loss  4.40 | val_ppl 103.42696 | time  20.2s
[2018-08-11 13:24:21,934 INFO] | epoch   7 | train_loss  4.38 | val_ppl 103.27184 | time  20.2s
[2018-08-11 13:24:41,712 INFO] | epoch   8 | train_loss  4.37 | val_ppl 103.23466 | time  19.8s
[2018-08-11 13:24:42,595 INFO] test_ppl: 99.29384

(continue to change the seed)
[2018-08-11 13:27:20,508 INFO] -------------
[2018-08-11 13:27:20,508 INFO] Start training...
[2018-08-11 13:27:20,508 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=100, tied=False, vector_type='glove.6B.100d')
[2018-08-11 13:27:31,661 INFO] train token: 2127402
[2018-08-11 13:27:31,661 INFO] test token: 250140
[2018-08-11 13:27:31,661 INFO] valid token: 221606
[2018-08-11 13:27:31,804 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 13:27:55,863 INFO] | epoch   1 | train_loss  4.69 | val_ppl 113.05575 | time  20.1s
[2018-08-11 13:28:15,902 INFO] | epoch   2 | train_loss  4.53 | val_ppl 107.66544 | time  20.0s
[2018-08-11 13:28:31,819 INFO] -------------
[2018-08-11 13:28:31,820 INFO] Start training...
[2018-08-11 13:28:31,820 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=4, tied=False, vector_type='glove.6B.100d')
[2018-08-11 13:28:43,686 INFO] train token: 2127402
[2018-08-11 13:28:43,687 INFO] test token: 250140
[2018-08-11 13:28:43,687 INFO] valid token: 221606
[2018-08-11 13:28:43,917 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 13:29:08,846 INFO] | epoch   1 | train_loss  4.69 | val_ppl 113.29452 | time  20.0s
[2018-08-11 13:29:29,050 INFO] | epoch   2 | train_loss  4.53 | val_ppl 107.81881 | time  20.2s
[2018-08-11 13:35:34,447 INFO] -------------


(explanation: norm pretrained out emb at the start. and keep fixed)
[2018-08-11 13:35:34,448 INFO] Start training...
[2018-08-11 13:35:34,448 INFO] Namespace(batch_size=20, bidirectional=False, bptt_len=10, device='cuda:0', dropout=0.0, epoch=8, every_n_epoch_save=40, log_file='log', lr=0.5, not_update_input_emb=False, num_layers=1, resources_dir='~/common_corpus/', rnn_type='GRU', save='nnlm.model', seed=3, tied=False, vector_type='glove.6B.100d')
[2018-08-11 13:35:45,395 INFO] train token: 2127402
[2018-08-11 13:35:45,395 INFO] test token: 250140
[2018-08-11 13:35:45,395 INFO] valid token: 221606
[2018-08-11 13:35:45,538 INFO] Loading vectors from /home/lr/yukun/common_corpus/glove.6B.100d.txt.pt
[2018-08-11 13:36:09,685 INFO] | epoch   1 | train_loss  5.94 | val_ppl 359.35717 | time  19.9s
[2018-08-11 13:36:29,654 INFO] | epoch   2 | train_loss  5.82 | val_ppl 340.28645 | time  20.0s
[2018-08-11 13:36:50,377 INFO] | epoch   3 | train_loss  5.77 | val_ppl 329.54376 | time  20.7s
[2018-08-11 13:37:10,706 INFO] | epoch   4 | train_loss  5.74 | val_ppl 322.69101 | time  20.3s
[2018-08-11 13:37:30,906 INFO] | epoch   5 | train_loss  5.72 | val_ppl 317.95991 | time  20.2s
[2018-08-11 13:37:50,825 INFO] | epoch   6 | train_loss  5.70 | val_ppl 314.86632 | time  19.9s
[2018-08-11 13:38:10,834 INFO] | epoch   7 | train_loss  5.69 | val_ppl 312.33242 | time  20.0s
[2018-08-11 13:38:30,577 INFO] | epoch   8 | train_loss  5.68 | val_ppl 310.29353 | time  19.7s
[2018-08-11 13:38:31,589 INFO] test_ppl: 307.08927
